version: 2

sources:
  - name: ecw
    database: my_database
    schema: main
    tables:

      - name: diagnosis
        columns:
          - name: EncounterId
            description: Encounter identifier from the source diagnosis table
            data_type: string
          - name: ItemId
            description: Item identifier (diagnosis code / concept id)
            data_type: string
          - name: displayIndex
            description: Display ordering index for diagnoses
            data_type: integer
          - name: PrimaryAsmt
            description: Flag indicating primary assessment/diagnosis
            data_type: boolean

      - name: ethnicity
        columns:
          - name: Code
            description: Ethnicity code
            data_type: string
          - name: Name
            description: Ethnicity name
            data_type: string
          - name: EthId
            description: Ethnicity identifier

      - name: edi_facilities
        columns:
          - name: Id
            description: Primary key of the facilities table
            data_type: string
          - name: name
            description: Facility name
            data_type: string
          - name: NPI
            description: National Provider Identifier
            data_type: string
          - name: PracticeType
            description: Practice type / specialty
            data_type: string
          - name: BillingAddressLine1
            description: Billing address line 1
            data_type: string
          - name: BillingAddressLine2
            description: Billing address line 2
            data_type: string
          - name: BillingCity
            description: Billing city
            data_type: string
          - name: BillingState
            description: Billing state
            data_type: string
          - name: BillingZip
            description: Billing zip/postal code
            data_type: string
          - name: AddressLine1
            description: Address line 1
            data_type: string
          - name: AddressLine2
            description: Address line 2
            data_type: string
          - name: City
            description: Facility city
            data_type: string
          - name: State
            description: Facility state
            data_type: string
          - name: Zip
            description: Facility zip/postal code
            data_type: string
          - name: Tel
            description: Facility telephone number
            data_type: string
          - name: PayableTo
            description: Payable-to / billing name
            data_type: string
          - name: code
            description: Facility code
            data_type: string
          - name: activeFlag
            description: Active flag (1 = active)
            data_type: integer

      - name: edi_icdcodes
        columns:
          - name: ItemId
            description: Item identifier (links to itemdetail / diagnosis)
            data_type: string
          - name: icd10flag
            description: Flag indicating ICD-10 mapping (1 = ICD-10)
            data_type: integer

      - name: enc
        columns:
          - name: encounterID
            description: Encounter identifier
            data_type: string
          - name: patientID
            description: Patient identifier
            data_type: string
          - name: invoiceID
            description: Invoice identifier
            data_type: string
          - name: facilityId
            description: Facility identifier
            data_type: string
          - name: ResourceId
            description: Resource identifier (user/provider)
            data_type: string
          - name: doctorID
            description: Doctor identifier
            data_type: string
          - name: ClaimReq
            description: Claim request flag/value
            data_type: string
          - name: date
            description: Encounter date/time
            data_type: timestamp
          - name: encType
            description: Encounter type code
            data_type: integer
          - name: STATUS
            description: Encounter status
            data_type: string
          - name: reason
            description: Reason for visit
            data_type: string
          - name: VisitType
            description: Visit type
            data_type: string
          - name: deleteFlag
            description: Delete flag (0 = not deleted)
            data_type: integer
          - name: startTime
            description: Start time
            data_type: string
          - name: endTime
            description: End time
            data_type: string
          - name: arrivedTime
            description: Arrived time
            data_type: string
          - name: depTime
            description: Departure time
            data_type: string
          - name: encLock
            description: Encounter lock flag
            data_type: integer

      - name: hl7labdatadetail
        columns:
          - name: ReportId
            description: Report identifier from the source hl7labdatadetail table
            data_type: string
          - name: name
            description: Name of the lab data element
            data_type: string
          - name: value
            description: Observed value/result for the lab element
            data_type: string
          - name: units
            description: Units of measurement for the value
            data_type: string
          - name: range
            description: Reference/normal range for the lab value
            data_type: string
          - name: hl7itemid
            description: HL7 lab component identifier (used in some joins)
            data_type: string

      - name: icd
        columns:
          - name: Code
            description: ICD code value (primary code field)
            data_type: string
          - name: ShortDesc
            description: Short description for the ICD code
            data_type: string
          - name: LongDesc
            description: Long/extended description for the ICD code
            data_type: string
          - name: codetype
            description: Source codetype as string ('9' or '10')
            data_type: string

      - name: itemdetail
        columns:
          - name: itemID
            description: Item identifier from the source itemdetail table
            data_type: string
          - name: value
            description: Value associated with the item
            data_type: string
          - name: propID
            description: Property identifier associated with the item
            data_type: string

      - name: items
        columns:
          - name: itemId
            description: Item identifier from the source items table
            data_type: string
          - name: keyName
            description: Key name of the item
            data_type: string
          - name: itemName
            description: Name/description of the item
            data_type: string

      - name: labcptmap
        columns:
          - name: labCode
            description: Lab order code
            data_type: string
          - name: cptcode
            description: CPT/HCPCS code mapped to a lab order
            data_type: string

      - name: labdata
        columns:
          - name: ReportId
            description: Report identifier from the source labdata table
            data_type: string
          - name: EncounterId
            description: Encounter identifier associated with the lab data
            data_type: string
          - name: ItemId
            description: Item identifier associated with the lab data
            data_type: string
          - name: result
            description: Result value of the lab data
            data_type: string
          - name: received
            description: Boolean/int received indicator
            data_type: integer
          - name: status
            description: Status of the lab data
            data_type: string
          - name: ResultDate
            description: Date the lab result was generated
            data_type: date
          - name: collDate
            description: Collection date
            data_type: date
          - name: collTime
            description: Collection time
            data_type: string
          - name: resultime
            description: Result time
            data_type: string
          - name: ordPhyId
            description: Ordering physician id (referenced by int_labs.sql)
            data_type: string
          - name: ReviewedDate
            description: Date the lab result was reviewed
            data_type: timestamp
          - name: ReviewedBy
            description: User who reviewed the lab result
            data_type: string
          - name: priority
            description: Priority level of the lab data
            data_type: string
          - name: assignedToId
            description: Identifier of the user assigned to the lab data
            data_type: string
          - name: deleteFlag
            description: Delete flag
            data_type: integer
          - name: cancelled
            description: Cancelled flag
            data_type: integer

      - name: labdatadetail
        columns:
          - name: ReportId
            description: Report identifier from the source labdatadetail table
            data_type: string
          - name: ItemId
            description: Item identifier associated with the lab data detail
            data_type: string
          - name: Value
            description: Value of the lab data detail (often the measured value)
            data_type: string
          - name: propId
            description: Property identifier associated with the lab data detail
            data_type: string

      - name: labloinccodes
        columns:
          - name: itemid
            description: Item identifier from the source labloinccodes table
            data_type: string
          - name: code
            description: Code associated with the labloinccodes item (Loinc)
            data_type: string

      - name: patients
        columns:
          - name: pid
            description: Patient identifier from the source patients table
            data_type: string
          - name: doctorID
            description: Primary care provider identifier
            data_type: string
          - name: pmcId
            description: Pharmacy identifier
            data_type: string
          - name: maritalstatus
            description: Marital status code
            data_type: string
          - name: deceased
            description: Deceased flag (1 = deceased)
            data_type: integer
          - name: deceasedDate
            description: Date of death
            data_type: date
          - name: language
            description: Primary language code
            data_type: string
          - name: GrId
            description: Insurance identifier
            data_type: string
          - name: hl7Id
            description: HL7 identifier
            data_type: string
          - name: race
            description: Race value/name
            data_type: string
          - name: PtStatus
            description: Patient status code
            data_type: string
          - name: ethnicity
            description: Ethnicity code
            data_type: string

      - name: rxhub_scriptlog
        columns:
          - name: ID
            description: Primary key for the prescription record
            data_type: string
          - name: PatientId
            description: Patient identifier
            data_type: string
          - name: EncounterId
            description: Encounter identifier
            data_type: string
          - name: ScriptDate
            description: Date the prescription was created
            data_type: date
          - name: ndccode
            description: NDC code for the medication
            data_type: string
          - name: DrugName
            description: Drug name / description
            data_type: string
          - name: Route
            description: Administration route (e.g., Oral, Inhalation)
            data_type: string
          - name: doctorId
            description: Prescribing provider identifier
            data_type: string
          - name: Quantity
            description: Quantity prescribed
            data_type: integer
          - name: Duration
            description: Duration/days supply of the prescription
            data_type: integer

      - name: problemlist
        columns:
          - name: patientId
            description: Patient identifier
            data_type: string
            data_tests:
              - not_null
          - name: encounterId
            description: Encounter identifier (may be null)
            data_type: string
          - name: AddedDate
            description: Date the problem was added in the source
            data_type: date
          - name: onsetdate
            description: Onset date of the problem
            data_type: string
          - name: resolvedon
            description: Resolution date of the problem
            data_type: string
          - name: asmtId
            description: Assessment identifier from the source
            data_type: string
          - name: inactiveFlag
            description: Inactive/resolved flag (1 = inactive/resolved)
            data_type: integer
          - name: Resolved
            description: Boolean/int resolved indicator
            data_type: integer
          - name: deleteFlag
            description: Delete flag from source
            data_type: integer

      - name: users
        columns:
          - name: uid
            description: User identifier (primary key) from the source users table
            data_type: string
          - name: ufname
            description: User first name
            data_type: string
          - name: ulname
            description: User last name
            data_type: string
          - name: dob
            description: Date of birth
            data_type: date
          - name: sex
            description: Sex/gender at birth
            data_type: string
          - name: uemail
            description: User email address
            data_type: string
          - name: umobileno
            description: User mobile phone number
            data_type: string
          - name: upPhone
            description: Alternate phone number
            data_type: string
          - name: upaddress
            description: Primary address line 1
            data_type: string
          - name: upaddress2
            description: Primary address line 2
            data_type: string
          - name: upcity
            description: City of primary address
            data_type: string
          - name: upstate
            description: State of primary address
            data_type: string
          - name: zipcode
            description: ZIP/postal code
            data_type: string
          - name: UserType
            description: User type / role
            data_type: string

      - name: vitals
        columns:
          - name: encounterID
            description: Encounter identifier
            data_type: string
          - name: vitalID
            description: Vital record identifier
            data_type: integer
          - name: propID
            description: Property identifier for the vital
            data_type: integer
          - name: value
            description: Vital value (string)
            data_type: string
          - name: Id
            description: Internal id
            data_type: integer
          - name: UpdatedBy
            description: User id who last updated the record
            data_type: integer
          - name: UpdatedTime
            description: Last update timestamp
            data_type: timestamp
            nullable: true

      - name: vitalrange
        columns:
          - name: itemid
            description: Item identifier for the vital range
            data_type: integer
          - name: lowRange
            description: Lower reference range (string)
            data_type: string
            max_len: 20
          - name: highRange
            description: Upper reference range (string)
            data_type: string
            max_len: 20
          - name: groupId
            description: Group identifier for related ranges
            data_type: smallint
          - name: invalidLow
            description: Invalid-low marker/value (string)
            data_type: string
            max_len: 20
          - name: invalidHigh
            description: Invalid-high marker/value (string)
            data_type: string
            max_len: 20
          - name: vitaltype
            description: Vital type (e.g., BP, Ht, Wt, BMI)
            data_type: string
            max_len: 20
            nullable: true
          - name: vital_low
            description: Normal low numeric value
            data_type: decimal
            nullable: true
          - name: vital_high
            description: Normal high numeric value
            data_type: decimal
            nullable: true

      - name: loinccodes
        columns:
          - name: id
            description: primary key for loinc codes
            data_type: integer
          - name: itemid
            description: item identifier the loinc code maps to
            data_type: integer
          - name: CODE
            description: loinc code value
            data_type: string
            max_len: 20
          - name: UpdatedBy
            description: user id who last updated the record
            data_type: integer
          - name: UpdatedTime
            description: last update timestamp
            data_type: timestamp
            nullable: true
          - name: LoincType
            description: loinc type/flag (single char)
            data_type: string
            max_len: 1
          - name: deleteflag
            description: delete flag (0 = active)
            data_type: integer

      - name: vitaltypes
        columns:
          - name: itemId
            description: Item identifier for the vital type
            data_type: integer
          - name: type
            description: Vital type code (e.g., BP, Ht, Wt, BMI)
            data_type: string
            max_len: 20
          - name: Id
            description: Primary key for the vitaltypes table
            data_type: integer
          - name: mandatory
            description: Flag indicating whether the vital is mandatory (0/1)
            data_type: integer
          - name: displayUom
            description: Display unit-of-measure code
            data_type: integer
            nullable: true

      - name: doctors
        columns:
          - name: doctorID
            description: Primary key / unique identifier for the doctor
            data_type: string
            nullable: false
          - name: deaNo
            description: Drug Enforcement Administration (DEA) registration number
            data_type: string
            max_len: 25
            nullable: true
          - name: FaxNo
            description: Provider fax number
            data_type: string
            max_len: 25
            nullable: true
          - name: speciality
            description: Provider specialty / discipline name
            data_type: string
            max_len: 60
            nullable: false
          - name: SpecialityCode
            description: Short code representing provider specialty
            data_type: string
            max_len: 3
            nullable: false
          - name: PrintName
            description: Formatted name for printing on documents
            data_type: string
            max_len: 255
            nullable: false
          - name: providerCode
            description: Internal provider code used by the system
            data_type: string
            max_len: 10
            nullable: false
          - name: LicenseKey
            description: License/key text field (freeform)
            data_type: text
            nullable: false
          - name: TaxID
            description: Provider tax identification number
            data_type: string
            max_len: 30
            nullable: false
          - name: TaxIDType
            description: Type/format of the TaxID (e.g., EIN/SSN)
            data_type: string
            max_len: 30
            nullable: false
          - name: TaxIDSuffix
            description: Optional TaxID suffix
            data_type: string
            max_len: 30
            nullable: false
          - name: FacilityId
            description: Associated facility identifier
            data_type: string
            nullable: false
          - name: NPI
            description: National Provider Identifier
            data_type: string
            max_len: 30
            nullable: false