version: 2

sources:
  - name: ecw
    database: raw
    schema: ecw
    tables:

      - name: diagnosis
        columns:
          - name: EncounterId
            description: Encounter identifier from the source diagnosis table
            data_type: string
          - name: ItemId
            description: Item identifier (diagnosis code / concept id)
            data_type: string
          - name: displayIndex
            description: Display ordering index for diagnoses
            data_type: integer
          - name: PrimaryAsmt
            description: Flag indicating primary assessment/diagnosis
            data_type: boolean

      - name: edi_facilities
        columns:
          - name: Id
            description: Primary key of the facilities table
            data_type: string
            data_tests:
              - unique
              - not_null
          - name: name
            description: Facility name
            data_type: string
          - name: NPI
            description: National Provider Identifier
            data_type: string
          - name: BillingAddressLine1
            description: Billing address line 1
            data_type: string
          - name: BillingAddressLine2
            description: Billing address line 2
            data_type: string
          - name: BillingCity
            description: Billing city
            data_type: string
          - name: BillingState
            description: Billing state
            data_type: string
          - name: BillingZip
            description: Billing zip/postal code
            data_type: string
          - name: AddressLine1
            description: Address line 1
            data_type: string
          - name: AddressLine2
            description: Address line 2
            data_type: string
          - name: City
            description: Facility city
            data_type: string
          - name: State
            description: Facility state
            data_type: string
          - name: Zip
            description: Facility zip/postal code
            data_type: string
          - name: Tel
            description: Facility telephone number
            data_type: string
          - name: PayableTo
            description: Payable-to / billing name
            data_type: string
          - name: code
            description: Facility code
            data_type: string
          - name: activeFlag
            description: Active flag (1 = active)
            data_type: integer

      - name: edi_icdcodes
        columns:
          - name: ItemId
            description: Item identifier (links to itemdetail / diagnosis)
            data_type: string
          - name: icd10flag
            description: Flag indicating ICD-10 mapping (1 = ICD-10)
            data_type: integer

      - name: enc
        columns:
          - name: encounterID
            description: Encounter identifier
            data_type: string
          - name: patientID
            description: Patient identifier
            data_type: string
          - name: invoiceID
            description: Invoice identifier
            data_type: string
          - name: facilityId
            description: Facility identifier
            data_type: string
          - name: ResourceId
            description: Resource identifier (user/provider)
            data_type: string
          - name: doctorID
            description: Doctor identifier
            data_type: string
          - name: ClaimReq
            description: Claim request flag/value
            data_type: string
          - name: date
            description: Encounter date/time
            data_type: timestamp
          - name: encType
            description: Encounter type code
            data_type: integer
          - name: STATUS
            description: Encounter status
            data_type: string
          - name: reason
            description: Reason for visit
            data_type: string
          - name: VisitType
            description: Visit type
            data_type: string
          - name: deleteFlag
            description: Delete flag (0 = not deleted)
            data_type: integer
          - name: startTime
            description: Start time
            data_type: string
          - name: endTime
            description: End time
            data_type: string
          - name: arrivedTime
            description: Arrived time
            data_type: string
          - name: depTime
            description: Departure time
            data_type: string
          - name: encLock
            description: Encounter lock flag
            data_type: integer

      - name: hl7labdatadetail
        columns:
          - name: ReportId
            description: Report identifier from the source hl7labdatadetail table
            data_type: string
          - name: name
            description: Name of the lab data element
            data_type: string
          - name: value
            description: Observed value/result for the lab element
            data_type: string
          - name: units
            description: Units of measurement for the value
            data_type: string
          - name: range
            description: Reference/normal range for the lab value
            data_type: string
          - name: hl7itemid
            description: HL7 lab component identifier (used in some joins)
            data_type: string

      - name: icd
        columns:
          - name: Code
            description: ICD code value (primary code field)
            data_type: string
          - name: ShortDesc
            description: Short description for the ICD code
            data_type: string
          - name: LongDesc
            description: Long/extended description for the ICD code
            data_type: string
          - name: codetype
            description: Source codetype as string ('9' or '10')
            data_type: string

      - name: itemdetail
        columns:
          - name: itemID
            description: Item identifier from the source itemdetail table
            data_type: string
          - name: value
            description: Value associated with the item
            data_type: string
          - name: propID
            description: Property identifier associated with the item
            data_type: string

      - name: items
        columns:
          - name: itemId
            description: Item identifier from the source items table
            data_type: string
          - name: keyName
            description: Key name of the item
            data_type: string
          - name: itemName
            description: Name/description of the item
            data_type: string

      - name: labcptmap
        columns:
          - name: labCode
            description: Lab order code
            data_type: string
          - name: cptcode
            description: CPT/HCPCS code mapped to a lab order
            data_type: string

      - name: labdata
        columns:
          - name: ReportId
            description: Report identifier from the source labdata table
            data_type: string
          - name: EncounterId
            description: Encounter identifier associated with the lab data
            data_type: string
          - name: ItemId
            description: Item identifier associated with the lab data
            data_type: string
          - name: result
            description: Result value of the lab data
            data_type: string
          - name: received
            description: Date the lab data was received
            data_type: timestamp
          - name: status
            description: Status of the lab data
            data_type: string
          - name: ResultDate
            description: Date the lab result was generated
            data_type: date
          - name: collDate
            description: Collection date
            data_type: date
          - name: collTime
            description: Collection time
            data_type: string
          - name: resultime
            description: Result time
            data_type: string
          - name: ReviewedDate
            description: Date the lab result was reviewed
            data_type: timestamp
          - name: priority
            description: Priority level of the lab data
            data_type: string
          - name: assignedToId
            description: Identifier of the user assigned to the lab data
            data_type: string
          - name: deleteFlag
            description: Delete flag
            data_type: integer
          - name: cancelled
            description: Cancelled flag
            data_type: integer

      - name: labdatadetail
        columns:
          - name: ReportId
            description: Report identifier from the source labdatadetail table
            data_type: string
          - name: ItemId
            description: Item identifier associated with the lab data detail
            data_type: string
          - name: Value
            description: Value of the lab data detail (often the measured value)
            data_type: string
          - name: propId
            description: Property identifier associated with the lab data detail
            data_type: string

      - name: labloinccodes
        columns:
          - name: itemid
            description: Item identifier from the source labloinccodes table
            data_type: string
          - name: code
            description: Code associated with the labloinccodes item (Loinc)
            data_type: string

      - name: rxhub_scriptlog
        columns:
          - name: ID
            description: Primary key for the prescription record
            data_type: string
          - name: PatientId
            description: Patient identifier
            data_type: string
          - name: EncounterId
            description: Encounter identifier
            data_type: string
          - name: ScriptDate
            description: Date the prescription was created
            data_type: date
          - name: ndccode
            description: NDC code for the medication
            data_type: string
          - name: DrugName
            description: Drug name / description
            data_type: string
          - name: Route
            description: Administration route (e.g., Oral, Inhalation)
            data_type: string
          - name: doctorId
            description: Prescribing provider identifier
            data_type: string
          - name: Quantity
            description: Quantity prescribed
            data_type: integer
          - name: Duration
            description: Duration/days supply of the prescription
            data_type: integer
          - name: Pt_FName
            description: Patient first name
            data_type: string
          - name: Pt_LName
            description: Patient last name
            data_type: string

      - name: problemlist
        columns:
          - name: patientId
            description: Patient identifier
            data_type: string
            data_tests:
              - not_null
          - name: encounterId
            description: Encounter identifier (may be null)
            data_type: string
          - name: AddedDate
            description: Date the problem was added in the source
            data_type: date
          - name: onsetdate
            description: Onset date of the problem
            data_type: date
          - name: resolvedon
            description: Resolution date of the problem
            data_type: date
          - name: asmtId
            description: Assessment identifier from the source
            data_type: string
          - name: inactiveFlag
            description: Inactive/resolved flag (1 = inactive/resolved)
            data_type: integer
          - name: Resolved
            description: Boolean/int resolved indicator
            data_type: integer
          - name: deleteFlag
            description: Delete flag from source
            data_type: integer

      - name: users
        columns:
          - name: uid
            description: User identifier (primary key) from the source users table
            data_type: string
          - name: ufname
            description: User first name
            data_type: string
          - name: ulname
            description: User last name
            data_type: string
          - name: dob
            description: Date of birth
            data_type: date
          - name: sex
            description: Sex/gender at birth
            data_type: string
          - name: uemail
            description: User email address
            data_type: string
          - name: umobileno
            description: User mobile phone number
            data_type: string
          - name: upPhone
            description: Alternate phone number
            data_type: string
          - name: upaddress
            description: Primary address line 1
            data_type: string
          - name: upaddress2
            description: Primary address line 2
            data_type: string
          - name: upcity
            description: City of primary address
            data_type: string
          - name: upstate
            description: State of primary address
            data_type: string
          - name: zipcode
            description: ZIP/postal code
            data_type: string
          - name: UserType
            description: User type / role
            data_type: string